// fonts
$sans-serif: 'Helvetica Neue', Helvetica, sans-serif;
$WorkSans: 'Work Sans', $sans-serif;

// color variables

$blue: #389EDE;
$med-blue: mix(black, $blue, 30%);
$dark-blue: mix(black, $blue, 60%);

$purple: #639;
$med-purple: mix(black, $purple, 25%);
$dark-purple: mix(black, $purple, 50%);

// bg
$bg-grey: #383939;

// animations

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }  
}

@mixin fade-in {
  animation: fade-in 1.5s forwards ease;  
}

@keyframes fade-out {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }  
}

@mixin fade-out {
  animation: fade-out 1.5s forwards ease;  
}

// screen reader text

@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

@mixin sr-only-focusable {
  &:active,
  &:focus {
    position: static;
    width: auto;
    height: auto;
    margin: 0;
    overflow: visible;
    clip: auto;
  }
}

.sr-only {
  @include sr-only;
}

.sr-only-focusable {
  @include sr-only-focusable;
}

// root

:root {
  font-size: calc( 1rem + (40 - 20) * ( (100vw - 400px) / ( 2000 - 400)));
  &.info-block-visible {
    overflow-y: hidden;
  }
}

// global styles

body {
  //@include fade-in;
  background-color: mix($purple, $bg-grey, 50%);
  background-size: cover;
  font-family: $WorkSans;
  color: #fff;
  line-height: 1.45;
  padding: 2em calc(1em + 5vw);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  //color: currentColor; 	
	line-height: 1.2;
  transition: opacity .2s;
	&:empty {
  	display: none;  
	}
}

h1,.h1,
h2,.h2,
h3,.h3,
h4,.h4,
h5,.h5,
h6,.h6 {
  font-weight: 700;
  letter-spacing: .02em;
  -webkit-font-smoothing: antialiased;
  > strong, em, b {
    
  }
  &:focus {
    outline: none;
  }
}

h1, .h1 {
  font-size: 3rem;
}

h2, .h2 {
  font-size: 1.45rem;
}

.text-lg {
  font-size: 1.75rem;
}

p {
  font-size: .875rem;
  font-weight: 300;
  line-height: 1.6333;
}

a {
  color: #fff;
  text-decoration: none;
}

abbr[title] {
  text-decoration: none;
}

@mixin btn-reset {
  background-color: transparent;
  border: none;
  margin: 0;
  padding: 0;
}

.btn-reset {
  @include btn-reset;
}

.media {
  // when iframe is used
  &.iframe {
  margin-bottom: 2rem;  
  position:relative;
	line-height: 0; 
	height:0;  
	// padding-bottom: 70% !important; // 4:3
	padding-bottom: 56.25%; // 16:9
	width:100%;
    & > figure,
    & > div,
    & > iframe {
      display: inline-block;
      position: absolute !important;
      margin: 0;
      height: 100% !important;
      width: 100%;
      top:0;
      left:0;
    }    
  }
}

.site-wrap {
  // use to center header in page
  display: flex;
  flex-direction: column;
  height: 100vh;
  // align-items: flex-end;
  
  // default
  margin-right: auto;
  margin-left: auto;
  max-width: 37.50em;
  position: relative;
  z-index: 3;
}

header, section, article {
  margin-bottom: 2rem;
}

header {
  // use this to center header on page
  // margin: auto;
}

// Background

.bg-top-path {
  display: none;
  background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/97621/bg-top-path.svg") no-repeat left -1em rgba(black, .5);
  background-blend-mode: overlay;
  background-size: 100%;
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 110%;
  opacity: .8;
  //transform: rotateY(180deg);
  z-index: 2;
}

.bg-mid-path {
  //display: none;
  background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/97621/bg-mid-path.svg") no-repeat -2em top;
  background-blend-mode: overlay;
  background-size: 100%;
  position: fixed;
  bottom: 0;
  left: 0;
  height: 200px;
  width: 120%;
  z-index: 2;
  // > 600px
  @media (min-width: 37.50em) {
    height: 100%;
    top: 65%;
  }
}

.bg-img {
  background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/97621/Wazze-and-18-SM.jpg") no-repeat center top fixed rgba(#639, .7);
  background-blend-mode: multiply;
  background-size: cover;
  display: block;
  position: fixed;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  z-index: 1;  
}

// Header

.site-logo {
  opacity: .9;
  max-width: 3rem;
  width: 100%;
}

// main nav

.main-nav {
  
  margin-bottom: 3em;
  
  a {
    font-size: 1.125rem;
    font-weight: 300;
    letter-spacing: .075rem;
    text-decoration: none;
  }
  
  ul {
    margin-bottom: 0;
  }
  
  li {
    margin-bottom: .25em;
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  li:first-child {
    margin-right: auto;
    margin-left: 0;
    padding-bottom: .625em;
  }
  
  // > 480px
  @media (min-width: 30em) {
    ul {
      display: flex;
      //flex-direction: column;
      align-items: center;
      justify-content: flex-end;
    }
    li {
      margin-bottom: 0;
      margin-left: 3vw;
      &:first-child {
        padding-bottom: 0;
      }
    }
  
  }
  
}

// intro

.intro {
  //text-shadow: .25rem .25rem 0 rgba(black, .5);
  h1 {
    margin-bottom: .75rem;
  }
  h2 {
    line-height: 1.3;
  }
  .media {
    display: none;
    border-radius: 0 50%;
    margin-bottom: 1em;
    max-width: 14em;
    // clip
    //clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
    //shape-outside: circle();
  }
  // > 400px
  @media (min-width: 25em) {
    //padding-top: 2.5em;
   .media {
     float: right;
     //float: left;
     margin: 2% 0 1.5em 1.25em;
     max-width: 300px;
     width: 30%; 
     // fun stuff
     shape-outside: polygon(5% -4%, 5% 50%, 9% 66%, 11% 71%, 17% 80%, 31% 88%, 57% 90%, 73% 90%, 87% 90%, 107% 90%, 107% 32%, 102% 19%, 91% 6%, 71% -4%);
    }
  }
}

// info block

.info-block {
  //display: none;
  opacity: 0;
  background-color: rgba($purple, .9);
  padding-top: 2em;
  padding-right: 1em;
  padding-bottom: 2em;
  padding-left: 2em;
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  //transform: translateY(100%);
  transition: all .5s ease;
  z-index: 0;
  .title {
    border-bottom: 1px solid rgba(#FFF, .2);
    font-size: 2rem;
    margin-bottom: .5em;
    padding-right: 1em;
    padding-bottom: .25em;
  }
  p {
    margin-bottom: 2em;
  }
  &.info-block-visible {
    opacity: 1;
    z-index: 100;
  }
}

// scroll wrap

.scroll-wrap {
  height: calc(100% - 3.75em);
  overflow-y: auto;
  padding-top: .25em;
  padding-right: 1em;
  padding-bottom: .875em;
  .grid {
    //margin-right: calc(100% - .313em);
    //margin-left: calc(100% - .313em);
  }
  // scrollbars
  &::-webkit-scrollbar {
    width: 8px;
  } 

  &::-webkit-scrollbar-track {
    background: rgba(#333, 0.15);
    //box-shadow: inset 0 0 3px rgba(white, 0.15);
  }

  &::-webkit-scrollbar-thumb {
    background-color: rgba(#FFF, .35);
    //outline: 1px solid rgba(black, 0.15);
    //box-shadow: inset 0 0 4px rgba(white, 0.3);  
  }  
}

// close button

.close-button {
  //background-color: rgba($dark-purple, .7);
  background-color: transparent;
  border-radius: 50%;
  font-size: .75rem;
  font-weight: 700;
  line-height: 1;
  letter-spacing: .05em;
  height: 2em;
  width: 2em;
  margin: 0;
  padding: 0;
  position: absolute;
  top: 1em;
  right: .75em;
  text-transform: uppercase;
  z-index: 1000;
  svg {
    display: block;
    fill: rgba(#FFF, .85);
    height: 100%;
    width: 100%;
  }
}

// simple grid

.grid {  
  display: flex;
  flex-wrap: wrap;
  margin-right: -.313em;
  margin-left: -.313em;
  
  > * {
    flex-grow: 1;
    float: left;
    margin: .313em;
    width: 100%;
  }
  
  // > 320px
  @media (min-width: 20em) {    
    
    > * {
      width: 45%;  
    }
    
  }
  
  // > 600px
  @media (min-width: 37.50em) {    
    
    > * {
      width: 30%;  
    }
    
    &.grid-4-wide { 
      > * {
        width: 20%;  
      }
    }
    
  }
  
}

// Passion Block

.passion-block {
  //display: none;
  p, button {
    background: rgba($blue, .85);  
    padding: 1rem;
    text-align: center;
    font-weight: 700;
    letter-spacing: .02em;
    text-shadow: 0 0 .25em mix(black, $blue, 50%);
    text-transform: uppercase;
    span {
      text-transform: none;
    }
  }
  
}

// Work Samples

.work-samples {
  
  figure {
//     -webkit-clip-path: polygon(50% 0%, 83% 12%, 100% 43%, 94% 78%, 68% 100%, 32% 100%, 6% 78%, 0% 43%, 17% 12%);
// clip-path: polygon(50% 0%, 83% 12%, 100% 43%, 94% 78%, 68% 100%, 32% 100%, 6% 78%, 0% 43%, 17% 12%);
  }
  
}

// Contact Block

.contact-block  {
  
  h2 {
    margin-bottom: 1rem;
  }
  
  // profile pic
  .media {    
    border-radius: 50%;
    max-width: 10em;
    width: 100%;
  }
  
  // > 600px
  @media (min-width: 37.50em) {
  
    article {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .media {
      margin-left: 2em;      
    }
    
  }
  
}

.contact-link {
  display: inline-block;
  &:first-child {
    margin-right: 1rem;
  }
}

.contact-icons {
  align-items: center;
  text-align: center;
  justify-content: space-between;
  > * {
    max-height: 2.5em;
    max-width: 2.5em;
    width: 100%;
  }
  svg {
    fill: #fff;
    height: 2.5em;
    width: 100%;
  }
}

// Contact Form

.contact-form {
  color: #333;
  font-size: .875rem;
  label {
    @include sr-only;
  }
  input, textarea {
    border-radius: .125em;
    border: none;
  }
  input:not([type="submit"]),
  textarea,
  select {
    padding-top: .75em;
    padding-right: .75em;
    padding-bottom: .75em;
    padding-left: .75em;
  }
  textarea {
    min-height: 100px;
  }
  // < 600px
  @media (max-width: 37.50em) {
    textarea {
      min-height: 130px;
      width: 100%;
    }
  }
}

// Custom Select

.custom-select {
  background: #FFF; 
  color: #333;
  //border: 1px solid transparent;
	border-radius: .125em;
	line-height: 1.4;
  //box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
  position: relative;
  display: block;

  select {
    border-radius: .125em;
    color: #a8a8a8;
    //font-size: .875rem;  
    padding-right: 2em;
    background: none;
    border: 0 solid transparent; 
    appearance: none;
    width: 100%;
    margin: 0;
    outline: none;
    &::selected {
      color: #333;
    }
  } 

  &:after {
    content: "";
    position: absolute;
    top: 50%;
    right: 1em;
    z-index: 2;
    pointer-events: none;
    display: none;
    display: block; 
  
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 7px solid #666;
    margin-top: -3px;
  }
}

.submit-button {
  background-color: $blue;
  font-weight: 700;
  color: #fff;
  padding-top: 1.5em;
  padding-bottom: 1.5em;
  text-transform: uppercase;
}

// Footer
footer {
  padding-bottom: 2em;
  p, button {
    font-size: .75rem;
  }
  p {
    margin-bottom: .5em;
      &:last-child {
      margin-bottom: 0;
    }
  }  
}

// redesign video

.redesign-video {
  margin-bottom: 0;
}

// build log

.build-log {
  background-color: rgba(#000, .9);
  //z-index: 10;
  //opacity: 1 !important;
  pre {
    //background-color: #fff;
    color: mix(white, $purple, 25%);
    display: inline;
    margin: 0;
    padding: 0 .2em;
  }
  a {
    text-decoration: underline;
  }
}

.log-entry {
  margin-bottom: 2em;
  &:last-child {
    margin-bottom: 0;
  }
}

.log-title {
  font-size: 80%;
  > * {
    padding: .313em .5em;
  }
}

.date-stamp {
  background-color: $purple;  
}

.version-label {
  background-color: mix(black, $purple, 20%);
}

.log-notes {
  font-size: .875rem;
  margin-bottom: 0;
  padding-left: 2.125em;
  li {
    line-height: 1.5;
    list-style-type: none;
    margin-bottom: .75em;
    position: relative;
    &:last-child {
      margin-bottom: 0;
    }
    &:before {
      color: #CCC;
      content: "✦";
      font-size: .75em;
      position: absolute;
      top: 5px;
      left: -1rem;
      width: 1em;
    }
  }
}

.log-info-toggle {
  text-decoration: underline;
}